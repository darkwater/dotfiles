/*
 * $ GTK_DEBUG=interactive waybar
 *
 *   window #waybar .background .bottom .eDP-1 .mode-default
 *   ├─ decoration
 *   └─ box .horizontal
 *      ├─ box .horizontal .modules-left
 *      │  └─ widget
 *      │     └─ box #workspaces .horizontal .module
 *      │        ├─ button .active .flat .hosting-monitor .visible :hover
 *      │        ├─ button .flat .visible :hover
 *      │        └─ button .flat :hover
 *      ├─ box .horizontal .modules-center
 *      │  └─ widget
 *      │     └─ box #window .horizontal .module :hover
 *      │        └─ label
 *      └─ box .horizontal .modules-right
 *         ├─ widget
 *         │  └─ label #pulseaudio .module :hover
 *         ├─ widget
 *         │  └─ box #tray .horizontal .module :hover
 *         │     ├─ widget .active
 *         │     │  ├─ image
 *         │     │  └─ window
 *         │     │     ├─ decoration
 *         │     │     └─ menu
 *         │     │        ├─ arrow
 *         │     │        ├─ menuitem
 *         │     │        │  ├─ check
 *         │     │        │  └─ label
 *         │     │        ├─ separator
 *         │     │        ├─ menuitem :disabled
 *         │     │        └─ arrow
 *         │     ├─ widget .active
 *         │     └─ widget .active
 *         ├─ widget
 *         │  └─ label #battery .charging .module :hover
 *         └─ widget
 *            └─ label #clock .module :hover
 */

@import "mocha.css";

* {
    font-family: Hack Nerd Font;
    font-size: 14px;
    margin: 0;
}

window#waybar {
    background: linear-gradient(180deg, alpha(black, 0.0), black);
    /* background: linear-gradient(90deg, @rosewater, @flamingo, @pink, @mauve, @red, @maroon, @peach, @yellow, @green, @teal, @sky, @sapphire, @blue, @lavender); */
    /* background: linear-gradient(90deg, @text, @subtext1, @subtext0, @overlay2, @overlay1, @overlay0, @surface2, @surface1, @surface0, @base, @mantle, @crust); */
    color: @text;
    transition-property: background-color;
    transition-duration: .5s;
}

window#waybar.hidden {
    opacity: 0.2;
}

window#waybar > box {
    margin-top: 8px;
    margin-bottom: 4px;
}

/*
window#waybar.empty {
    background-color: transparent;
}
window#waybar.solo {
    background-color: #FFFFFF;
}
*/

button {
    /* Use box-shadow instead of border so the text isn't offset */
    /* box-shadow: inset 0 -3px transparent; */
    /* Avoid rounded borders under each button name */
    border: none;
    border-radius: 0;
    padding: 0 8px;
}

/* https://github.com/Alexays/Waybar/wiki/FAQ#the-workspace-buttons-have-a-strange-hover-effect */
button:hover {
    background: inherit;
    transition: none; 
    /* box-shadow: inset 0 -3px #ffffff; */
}

.module       { padding: 0 10px; }
.module       { margin: 0 4px; }
.module:hover { color: @yellow; }

#workspaces button                                { color: #707070; }
#workspaces button.persistent.empty:not(.visible) { color: #404040; }
#workspaces button.hosting-monitor                { color: @text; }
#workspaces button.hosting-monitor.visible        { color: @sapphire; }
#workspaces button.hosting-monitor.active         { color: @sapphire; }
#workspaces#workspaces button:hover               { color: @yellow; }
#workspaces button.urgent                         { color: @red; }


/* .modules-left > widget:first-child > #workspaces { margin-left: 0; } */
/* .modules-right > widget:last-child > #workspaces { margin-right: 0; } */

#clock             { color: @pink; }
#battery           { color: @maroon; }
#cpu               { color: @yellow; }
#network           { color: @green; }
#bluetooth         { color: @sapphire; }
#wireplumber       { color: @lavender; }
#wireplumber.muted { color: #aaaaaa; }

#battery.critical:not(.charging) {
    animation-name: battery-blink;
    animation-duration: 1s;
    animation-timing-function: steps(2);
    animation-iteration-count: infinite;
}

@keyframes battery-blink {
    50% { opacity: 0; }
    to  { opacity: 1; }
}
